# AIEO MVP 프로젝트 셋업 로그

---

## 초기화 일시

- **날짜**: 2026-02-27 (금)
- **시간**: 09:42 ~ 09:53 KST
- **작업자**: Claude + TY

---

## 1. Deno 런타임 설치 (09:42)

| 항목 | 내용 |
|------|------|
| 설치 방법 | `winget install DenoLand.Deno --source winget` |
| 버전 | Deno 2.7.1 (stable, x86_64-pc-windows-msvc) |
| TypeScript | 5.9.2 (Deno 내장) |
| V8 | 14.5.201.2 |
| 경로 | `C:\Users\TY\.deno\bin\deno.exe` |

---

## 2. Fresh 2.0 프로젝트 초기화 (09:51)

| 항목 | 내용 |
|------|------|
| 명령어 | `deno run -Ar jsr:@fresh/init . --force` |
| Fresh 버전 | 2.2.0 |
| Preact 버전 | 10.27.2 |
| Vite 버전 | 7.1.3 |

### 생성된 디렉토리 구조

```
agora/
├── assets/          # CSS 등 에셋
│   └── styles.css
├── components/      # 서버 전용 컴포넌트
│   └── Button.tsx
├── islands/         # 클라이언트 하이드레이션 컴포넌트
│   └── Counter.tsx
├── routes/          # 파일 기반 라우팅
│   ├── _app.tsx
│   ├── api/[name].tsx
│   └── index.tsx
├── static/          # 정적 파일
│   ├── favicon.ico
│   └── logo.svg
├── client.ts
├── deno.json
├── deno.lock
├── main.ts
├── utils.ts
└── vite.config.ts
```

---

## 3. 의존성 설치 (09:52)

| 패키지 | 버전 | 용도 |
|--------|------|------|
| `@supabase/supabase-js` | 2.98.0 | Supabase 클라이언트 (DB) |
| `langchain` | 1.2.28 | LangChain 에이전트 프레임워크 |
| `@langchain/core` | 1.1.29 | LangChain 코어 추상화 |
| `@langchain/anthropic` | 1.3.21 | Claude API 연동 |
| `@std/dotenv` | 0.225.6 | 환경변수 로드 |
| `zod` | 4.3.6 | 입력값 검증 스키마 |
| `@tailwindcss/vite` | 4.2.1 | Tailwind CSS Vite 플러그인 |

### 기존 (Fresh 기본) 의존성

| 패키지 | 버전 | 용도 |
|--------|------|------|
| `fresh` | 2.2.0 | Fresh 프레임워크 |
| `preact` | 10.27.2 | UI 라이브러리 |
| `@preact/signals` | 2.5.0 | 상태 관리 |
| `@fresh/plugin-vite` | 1.0.8 | Fresh Vite 플러그인 |
| `vite` | 7.1.3 | 빌드 도구 |

---

## 4. MVP 문서 확인 (v1.0 + v1.1)

### v1.0 주요 내용 (확인 완료)

- 비전: AI를 영업사원으로 활용, 어필리에이트 수익 구조
- 아키텍처: Fresh 2.0 + Hono + Supabase + LangChain
- DB: 8개 테이블 (brands, products, ingredients, product_ingredients, symptoms, ingredient_symptoms, bot_logs, click_logs)
- API: 9개 REST + 1개 챗봇
- AIEO: JSON-LD, 시맨틱 HTML, llms.txt

### v1.1 변경사항 4건 (확인 완료)

| # | 변경 | 상태 |
|---|------|------|
| 1 | pgvector 스키마 + 시맨틱 검색 Tool 추가 | 구현 가능 |
| 2 | Fresh 2.0 단일 서버 (Hono 분리 불필요) | 구현 가능 |
| 3 | 클로킹 방지 (Islands 활용, 동일 HTML) | 구현 가능 |
| 4 | llms.txt에서 API 제거, 페이지 URL만 노출 | 구현 가능 |

---

## 5. 다음 단계

MVP 설계 문서 기준 Phase 1부터 진행:

- [ ] Supabase 프로젝트 생성 + 스키마 적용 (pgvector 포함)
- [ ] 가짜 브랜드 4개 + 제품 데이터 시딩
- [ ] 증상-성분 매핑 데이터 입력
- [ ] Fresh API 라우트 구현 (상품 조회, 추천, 비교)
- [ ] SSR 페이지 + JSON-LD + 시맨틱 HTML
- [ ] Islands (챗봇, 비교, 구매 버튼)
- [ ] LangChain Agent + Tools
- [ ] 미들웨어 (로깅 + 차단)
- [ ] 배포

---

## 환경 정보

| 항목 | 내용 |
|------|------|
| OS | Windows 11 Pro 10.0.26200 |
| 플랫폼 | x86_64 |
| Git 브랜치 | `feature/mvp-phase1-2` |
| 메인 브랜치 | `main` |
